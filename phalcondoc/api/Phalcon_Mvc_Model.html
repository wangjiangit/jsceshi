<!DOCTYPE html>

<html lang="en">
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Class Phalcon\Mvc\Model &mdash; Phalcon 0.7.0 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/configurationblock.css" type="text/css" />
    <!--
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/layout.css" type="text/css" />
    -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Rosario" type="text/css">
    <!-- link rel="stylesheet" href="http://phalconphp.com/css/s.css" type="text/css" -->
    <link rel="stylesheet" href="../_static/s.css" type="text/css">
    <link rel="stylesheet" href="../_static/docs.css" type="text/css">
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/docs.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Phalcon 0.7.0 documentation" href="../index.html" />
    <link rel="up" title="API Indice" href="index.html" />
    <link rel="next" title="Class Phalcon\Mvc\Model\Criteria" href="Phalcon_Mvc_Model_Criteria.html" />
    <link rel="prev" title="Class Phalcon\Mvc\Micro\Exception" href="Phalcon_Mvc_Micro_Exception.html" /> 
  </head>
  <body>
    <div id="wrapper">

      <div id="header">
        <h1><a href="http://phalconphp.com/index" ><img border="0" src="../_static/img/logo-small.png"></a></h1>
        <div align="center">
          <div id="nav-main" role="navigation">
            <div class="menubar">
              <div class="nav-main-features nav-first"><a href="http://phalconphp.com/index" >HOME</a></div>
              <div class="nav-main-features nav-first"><a href="http://phalconphp.com/download" >DOWNLOAD</a></div>
              <div class="nav-main-features"><a href="http://docs.phalconphp.com" >DOCUMENTATION</a></div>
              <div class="nav-main-features"><a href="http://phalconphp.com/support" >SUPPORT</a></div>
              <div class="nav-main-features nav-first"><a href="https://github.com/phalcon/cphalcon">GITHUB</a></div>
              <div class="nav-main-features"><a target="blog" href="http://blog.phalconphp.com/">BLOG</a></div>
            </div>
          </div>
        </div>
      </div>
    <div class="related">
      <ul>
        <li class="right" >
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Phalcon_Mvc_Model_Criteria.html" title="Class Phalcon\Mvc\Model\Criteria"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Phalcon_Mvc_Micro_Exception.html" title="Class Phalcon\Mvc\Micro\Exception"
             accesskey="P">previous</a> |</li>
        <li><a href="http://www.phalconphp.com">Home</a> &raquo;</li>
        <li><a href="../index.html">Phalcon 0.7.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">API Indice</a> &raquo;</li> 
      </ul>
    </div>  

      <table width="90%" align="center">
        <tr>
      <td class="primary-box" width="25%" valign="top">
            
            <div id="searchbox" style="">
              <h3>Search</h3>
                <form class="search" action="http://readthedocs.org/search/project/" method="get">
                  <input type="text" name="q" size="18">
                  <input type="submit" value="Go">
                  <input type="hidden" name="selected_facets" value="project:">
                </form>
            </div>
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Class <strong>Phalcon\Mvc\Model</strong></a><ul>
<li><a class="reference internal" href="#constants">Constants</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="Phalcon_Mvc_Micro_Exception.html"
                                  title="previous chapter">Class <strong>Phalcon\Mvc\Micro\Exception</strong></a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="Phalcon_Mvc_Model_Criteria.html"
                                  title="next chapter">Class <strong>Phalcon\Mvc\Model\Criteria</strong></a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/Phalcon_Mvc_Model.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
        </td>
          <td class="second-box" valign="top">
            <div class="document">
                <div class="documentwrapper">
                  <div class="bodywrapper">
                <div class="body" >
                      
  <div class="section" id="class-phalcon-mvc-model">
<h1>Class <strong>Phalcon\Mvc\Model</strong><a class="headerlink" href="#class-phalcon-mvc-model" title="Permalink to this headline">¶</a></h1>
<p><em>implements</em> <a class="reference internal" href="Phalcon_Mvc_ModelInterface.html"><em>Phalcon\Mvc\ModelInterface</em></a>, <a class="reference internal" href="Phalcon_Mvc_Model_ResultInterface.html"><em>Phalcon\Mvc\Model\ResultInterface</em></a>, <a class="reference internal" href="Phalcon_DI_InjectionAwareInterface.html"><em>Phalcon\DI\InjectionAwareInterface</em></a>, <a class="reference internal" href="Phalcon_Events_EventsAwareInterface.html"><em>Phalcon\Events\EventsAwareInterface</em></a>, Serializable</p>
<p>Phalcon\Mvc\Model connects business objects and database tables to create a persistable domain model where logic and data are presented in one wrapping. It‘s an implementation of the object-relational mapping (ORM).    A model represents the information (data) of the application and the rules to manipulate that data. Models are primarily used for managing the rules of interaction with a corresponding database table. In most cases, each table in your database will correspond to one model in your application. The bulk of your application’s business logic will be concentrated in the models.    Phalcon\Mvc\Model is the first ORM written in C-language for PHP, giving to developers high performance when interacting with databases while is also easy to use.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

 <span class="nv">$robot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Robots</span><span class="p">();</span>
 <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">type</span> <span class="o">=</span> <span class="s1">&#39;mechanical&#39;</span>
 <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s1">&#39;Astro Boy&#39;</span><span class="p">;</span>
 <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">year</span> <span class="o">=</span> <span class="mi">1952</span><span class="p">;</span>
 <span class="k">if</span> <span class="p">(</span><span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">()</span> <span class="o">==</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">&quot;Umh, We can store robots: &quot;</span><span class="p">;</span>
  <span class="k">foreach</span> <span class="p">(</span><span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">getMessages</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$message</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$message</span><span class="p">;</span>
  <span class="p">}</span>
 <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">&quot;Great, a new robot was saved successfully!&quot;</span><span class="p">;</span>
 <span class="p">}</span>
</pre></div>
</div>
<div class="section" id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h2>
<p><em>integer</em> <strong>OP_NONE</strong></p>
<p><em>integer</em> <strong>OP_CREATE</strong></p>
<p><em>integer</em> <strong>OP_UPDATE</strong></p>
<p><em>integer</em> <strong>OP_DELETE</strong></p>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<p>final public  <strong>__construct</strong> (<a class="reference internal" href="Phalcon_DiInterface.html"><em>Phalcon\DiInterface</em></a> $dependencyInjector, <em>string</em> $managerService, <em>string</em> $dbService)</p>
<p>Phalcon\Mvc\Model constructor</p>
<p>public  <strong>setDI</strong> (<a class="reference internal" href="Phalcon_DiInterface.html"><em>Phalcon\DiInterface</em></a> $dependencyInjector)</p>
<p>Sets the dependency injection container</p>
<p>public <a class="reference internal" href="Phalcon_DiInterface.html"><em>Phalcon\DiInterface</em></a>  <strong>getDI</strong> ()</p>
<p>Returns the dependency injection container</p>
<p>public  <strong>setEventsManager</strong> (<a class="reference internal" href="Phalcon_Events_ManagerInterface.html"><em>Phalcon\Events\ManagerInterface</em></a> $eventsManager)</p>
<p>Sets the event manager</p>
<p>public <a class="reference internal" href="Phalcon_Events_ManagerInterface.html"><em>Phalcon\Events\ManagerInterface</em></a>  <strong>getEventsManager</strong> ()</p>
<p>Returns the internal event manager</p>
<p>public <a class="reference internal" href=""><em>Phalcon\Mvc\Model</em></a>  <strong>setTransaction</strong> (<a class="reference internal" href="Phalcon_Mvc_Model_TransactionInterface.html"><em>Phalcon\Mvc\Model\TransactionInterface</em></a> $transaction)</p>
<p>Sets a transaction related to the Model instance</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">try</span> <span class="p">{</span>

  <span class="nv">$transactionManager</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Phalcon\Mvc\Model\Transaction\Manager</span><span class="p">();</span>

  <span class="nv">$transaction</span> <span class="o">=</span> <span class="nv">$transactionManager</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

  <span class="nv">$robot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Robots</span><span class="p">();</span>
  <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">setTransaction</span><span class="p">(</span><span class="nv">$transaction</span><span class="p">);</span>
  <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s1">&#39;WALL·E&#39;</span><span class="p">;</span>
  <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">created_at</span> <span class="o">=</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y-m-d&#39;</span><span class="p">);</span>
  <span class="k">if</span><span class="p">(</span><span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">()</span><span class="o">==</span><span class="k">false</span><span class="p">){</span>
    <span class="nv">$transaction</span><span class="o">-&gt;</span><span class="na">rollback</span><span class="p">(</span><span class="s2">&quot;Can&#39;t save robot&quot;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nv">$robotPart</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RobotParts</span><span class="p">();</span>
  <span class="nv">$robotPart</span><span class="o">-&gt;</span><span class="na">setTransaction</span><span class="p">(</span><span class="nv">$transaction</span><span class="p">);</span>
  <span class="nv">$robotPart</span><span class="o">-&gt;</span><span class="na">type</span> <span class="o">=</span> <span class="s1">&#39;head&#39;</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$robotPart</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">()</span> <span class="o">==</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$transaction</span><span class="o">-&gt;</span><span class="na">rollback</span><span class="p">(</span><span class="s2">&quot;Can&#39;t save robot part&quot;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nv">$transaction</span><span class="o">-&gt;</span><span class="na">commit</span><span class="p">();</span>

<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="nx">Phalcon\Mvc\Model\Transaction\Failed</span> <span class="nv">$e</span><span class="p">){</span>
  <span class="k">echo</span> <span class="s1">&#39;Failed, reason: &#39;</span><span class="p">,</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>protected <a class="reference internal" href=""><em>Phalcon\Mvc\Model</em></a>  <strong>setSource</strong> ()</p>
<p>Sets table name which model should be mapped</p>
<p>public <em>string</em>  <strong>getSource</strong> ()</p>
<p>Returns table name mapped in the model</p>
<p>protected <a class="reference internal" href=""><em>Phalcon\Mvc\Model</em></a>  <strong>setSchema</strong> ()</p>
<p>Sets schema name where table mapped is located</p>
<p>public <em>string</em>  <strong>getSchema</strong> ()</p>
<p>Returns schema name where table mapped is located</p>
<p>public <a class="reference internal" href=""><em>Phalcon\Mvc\Model</em></a>  <strong>setConnectionService</strong> (<em>string</em> $connectionService)</p>
<p>Sets the DependencyInjection connection service</p>
<p>public <em>string</em>  <strong>getConnectionService</strong> ()</p>
<p>Returns DependencyInjection connection service</p>
<p>public  <strong>setForceExists</strong> (<em>boolean</em> $forceExists)</p>
<p>Forces that model doesn&#8217;t need to be checked if exists before store it</p>
<p>public <a class="reference internal" href="Phalcon_Db_AdapterInterface.html"><em>Phalcon\Db\AdapterInterface</em></a>  <strong>getConnection</strong> ()</p>
<p>Gets the internal database connection</p>
<p>public static <a class="reference internal" href=""><em>Phalcon\Mvc\Model</em></a>  $result <strong>dumpResultMap</strong> (<a class="reference internal" href=""><em>Phalcon\Mvc\Model</em></a> $base, <em>array</em> $data, <em>array</em> $columnMap, <em>boolean</em> $forceExists)</p>
<p>Assigns values to a model from an array returning a new model.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$robot</span> <span class="o">=</span> <span class="nx">Phalcon\Mvc\Model</span><span class="o">::</span><span class="na">dumpResult</span><span class="p">(</span><span class="k">new</span> <span class="nx">Robots</span><span class="p">(),</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;mechanical&#39;</span><span class="p">,</span>
  <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Astro Boy&#39;</span><span class="p">,</span>
  <span class="s1">&#39;year&#39;</span> <span class="o">=&gt;</span> <span class="mi">1952</span>
<span class="p">));</span>
</pre></div>
</div>
<p>public static <a class="reference internal" href=""><em>Phalcon\Mvc\Model</em></a>  $result <strong>dumpResult</strong> (<a class="reference internal" href=""><em>Phalcon\Mvc\Model</em></a> $base, <em>array</em> $data, <em>boolean</em> $forceExists)</p>
<p>Assigns values to a model from an array returning a new model.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$robot</span> <span class="o">=</span> <span class="nx">Phalcon\Mvc\Model</span><span class="o">::</span><span class="na">dumpResult</span><span class="p">(</span><span class="k">new</span> <span class="nx">Robots</span><span class="p">(),</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;mechanical&#39;</span><span class="p">,</span>
  <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Astro Boy&#39;</span><span class="p">,</span>
  <span class="s1">&#39;year&#39;</span> <span class="o">=&gt;</span> <span class="mi">1952</span>
<span class="p">));</span>
</pre></div>
</div>
<p>public static <a class="reference internal" href="Phalcon_Mvc_Model_ResultsetInterface.html"><em>Phalcon\Mvc\Model\ResultsetInterface</em></a>  <strong>find</strong> (<em>array</em> $parameters)</p>
<p>Allows to query a set of records that match the specified conditions</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

 <span class="c1">//How many robots are there?</span>
 <span class="nv">$robots</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">find</span><span class="p">();</span>
 <span class="k">echo</span> <span class="s2">&quot;There are &quot;</span><span class="p">,</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$robots</span><span class="p">);</span>

 <span class="c1">//How many mechanical robots are there?</span>
 <span class="nv">$robots</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="s2">&quot;type=&#39;mechanical&#39;&quot;</span><span class="p">);</span>
 <span class="k">echo</span> <span class="s2">&quot;There are &quot;</span><span class="p">,</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$robots</span><span class="p">);</span>

 <span class="c1">//Get and print virtual robots ordered by name</span>
 <span class="nv">$robots</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">&quot;type=&#39;virtual&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;name&quot;</span><span class="p">));</span>
 <span class="k">foreach</span> <span class="p">(</span><span class="nv">$robots</span> <span class="k">as</span> <span class="nv">$robot</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">echo</span> <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
 <span class="p">}</span>

 <span class="c1">//Get first 100 virtual robots ordered by name</span>
 <span class="nv">$robots</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">&quot;type=&#39;virtual&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">));</span>
 <span class="k">foreach</span> <span class="p">(</span><span class="nv">$robots</span> <span class="k">as</span> <span class="nv">$robot</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">echo</span> <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
 <span class="p">}</span>
</pre></div>
</div>
<p>public static <a class="reference internal" href=""><em>Phalcon\Mvc\Model</em></a>  <strong>findFirst</strong> (<em>array</em> $parameters)</p>
<p>Allows to query the first record that match the specified conditions</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

 <span class="c1">//What&#39;s the first robot in robots table?</span>
 <span class="nv">$robot</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">findFirst</span><span class="p">();</span>
 <span class="k">echo</span> <span class="s2">&quot;The robot name is &quot;</span><span class="p">,</span> <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>

 <span class="c1">//What&#39;s the first mechanical robot in robots table?</span>
 <span class="nv">$robot</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">findFirst</span><span class="p">(</span><span class="s2">&quot;type=&#39;mechanical&#39;&quot;</span><span class="p">);</span>
 <span class="k">echo</span> <span class="s2">&quot;The first mechanical robot name is &quot;</span><span class="p">,</span> <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>

 <span class="c1">//Get first virtual robot ordered by name</span>
 <span class="nv">$robot</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">findFirst</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">&quot;type=&#39;virtual&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;name&quot;</span><span class="p">));</span>
 <span class="k">echo</span> <span class="s2">&quot;The first virtual robot name is &quot;</span><span class="p">,</span> <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>
</pre></div>
</div>
<p>public static <a class="reference internal" href="Phalcon_Mvc_Model_Criteria.html"><em>Phalcon\Mvc\Model\Criteria</em></a>  <strong>query</strong> (<em>unknown</em> $dependencyInjector)</p>
<p>Create a criteria for a especific model</p>
<p>protected <em>boolean</em>  <strong>_exists</strong> ()</p>
<p>Checks if the current record already exists or not</p>
<p>protected static <a class="reference internal" href="Phalcon_Mvc_Model_ResultsetInterface.html"><em>Phalcon\Mvc\Model\ResultsetInterface</em></a>  <strong>_groupResult</strong> ()</p>
<p>Generate a PHQL SELECT statement for an aggregate</p>
<p>public static <em>int</em>  <strong>count</strong> (<em>array</em> $parameters)</p>
<p>Allows to count how many records match the specified conditions</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

 <span class="c1">//How many robots are there?</span>
 <span class="nv">$number</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">count</span><span class="p">();</span>
 <span class="k">echo</span> <span class="s2">&quot;There are &quot;</span><span class="p">,</span> <span class="nv">$number</span><span class="p">;</span>

 <span class="c1">//How many mechanical robots are there?</span>
 <span class="nv">$number</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">count</span><span class="p">(</span><span class="s2">&quot;type=&#39;mechanical&#39;&quot;</span><span class="p">);</span>
 <span class="k">echo</span> <span class="s2">&quot;There are &quot;</span><span class="p">,</span> <span class="nv">$number</span><span class="p">,</span> <span class="s2">&quot; mechanical robots&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>public static <em>double</em>  <strong>sum</strong> (<em>array</em> $parameters)</p>
<p>Allows to calculate a summatory on a column that match the specified conditions</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

 <span class="c1">//How much are all robots?</span>
 <span class="nv">$sum</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">sum</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;column&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;price&#39;</span><span class="p">));</span>
 <span class="k">echo</span> <span class="s2">&quot;The total price of robots is &quot;</span><span class="p">,</span> <span class="nv">$sum</span><span class="p">;</span>

 <span class="c1">//How much are mechanical robots?</span>
 <span class="nv">$sum</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">sum</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">&quot;type=&#39;mechanical&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;column&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;price&#39;</span><span class="p">));</span>
 <span class="k">echo</span> <span class="s2">&quot;The total price of mechanical robots is  &quot;</span><span class="p">,</span> <span class="nv">$sum</span><span class="p">;</span>
</pre></div>
</div>
<p>public static <em>mixed</em>  <strong>maximum</strong> (<em>array</em> $parameters)</p>
<p>Allows to get the maximum value of a column that match the specified conditions</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

 <span class="c1">//What is the maximum robot id?</span>
 <span class="nv">$id</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">maximum</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;column&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;id&#39;</span><span class="p">));</span>
 <span class="k">echo</span> <span class="s2">&quot;The maximum robot id is: &quot;</span><span class="p">,</span> <span class="nv">$id</span><span class="p">;</span>

 <span class="c1">//What is the maximum id of mechanical robots?</span>
 <span class="nv">$sum</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">maximum</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">&quot;type=&#39;mechanical&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;column&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;id&#39;</span><span class="p">));</span>
 <span class="k">echo</span> <span class="s2">&quot;The maximum robot id of mechanical robots is &quot;</span><span class="p">,</span> <span class="nv">$id</span><span class="p">;</span>
</pre></div>
</div>
<p>public static <em>mixed</em>  <strong>minimum</strong> (<em>array</em> $parameters)</p>
<p>Allows to get the minimum value of a column that match the specified conditions</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

 <span class="c1">//What is the minimum robot id?</span>
 <span class="nv">$id</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">minimum</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;column&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;id&#39;</span><span class="p">));</span>
 <span class="k">echo</span> <span class="s2">&quot;The minimum robot id is: &quot;</span><span class="p">,</span> <span class="nv">$id</span><span class="p">;</span>

 <span class="c1">//What is the minimum id of mechanical robots?</span>
 <span class="nv">$sum</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">minimum</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">&quot;type=&#39;mechanical&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;column&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;id&#39;</span><span class="p">));</span>
 <span class="k">echo</span> <span class="s2">&quot;The minimum robot id of mechanical robots is &quot;</span><span class="p">,</span> <span class="nv">$id</span><span class="p">;</span>
</pre></div>
</div>
<p>public static <em>double</em>  <strong>average</strong> (<em>array</em> $parameters)</p>
<p>Allows to calculate the average value on a column matching the specified conditions</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

 <span class="c1">//What&#39;s the average price of robots?</span>
 <span class="nv">$average</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">average</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;column&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;price&#39;</span><span class="p">));</span>
 <span class="k">echo</span> <span class="s2">&quot;The average price is &quot;</span><span class="p">,</span> <span class="nv">$average</span><span class="p">;</span>

 <span class="c1">//What&#39;s the average price of mechanical robots?</span>
 <span class="nv">$average</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">average</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">&quot;type=&#39;mechanical&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;column&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;price&#39;</span><span class="p">));</span>
 <span class="k">echo</span> <span class="s2">&quot;The average price of mechanical robots is &quot;</span><span class="p">,</span> <span class="nv">$average</span><span class="p">;</span>
</pre></div>
</div>
<p>protected <em>boolean</em>  <strong>_callEvent</strong> ()</p>
<p>Fires an internal event</p>
<p>protected <em>boolean</em>  <strong>_callEventCancel</strong> ()</p>
<p>Fires an internal event that cancels the operation</p>
<p>protected <em>boolean</em>  <strong>_cancelOperation</strong> ()</p>
<p>Cancel the current operation</p>
<p>public  <strong>appendMessage</strong> (<a class="reference internal" href="Phalcon_Mvc_Model_MessageInterface.html"><em>Phalcon\Mvc\Model\MessageInterface</em></a> $message)</p>
<p>Appends a customized message on the validation process</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

 <span class="k">use</span> <span class="nx">\Phalcon\Mvc\Model\Message</span> <span class="k">as</span> <span class="nx">Message</span><span class="p">;</span>

 <span class="k">class</span> <span class="nc">Robots</span> <span class="k">extends</span> <span class="nx">Phalcon\Mvc\Model</span>
 <span class="p">{</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">beforeSave</span><span class="p">()</span>
   <span class="p">{</span>
     <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">==</span> <span class="s1">&#39;Peter&#39;</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$message</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Message</span><span class="p">(</span><span class="s2">&quot;Sorry, but a robot cannot be named Peter&quot;</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">appendMessage</span><span class="p">(</span><span class="nv">$message</span><span class="p">);</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
<p>protected  <strong>validate</strong> ()</p>
<p>Executes validators on every validation call</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Phalcon\Mvc\Model\Validator\ExclusionIn</span> <span class="k">as</span> <span class="nx">ExclusionIn</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Subscriptors</span> <span class="k">extends</span> <span class="nx">Phalcon\Mvc\Model</span>
<span class="p">{</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">validation</span><span class="p">()</span>
  <span class="p">{</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="p">(</span><span class="k">new</span> <span class="nx">ExclusionIn</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;status&#39;</span><span class="p">,</span>
            <span class="s1">&#39;domain&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">)</span>
    <span class="p">)));</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validationHasFailed</span><span class="p">()</span> <span class="o">==</span> <span class="k">true</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>public <em>boolean</em>  <strong>validationHasFailed</strong> ()</p>
<p>Check whether validation process has generated any messages</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Phalcon\Mvc\Model\Validator\ExclusionIn</span> <span class="k">as</span> <span class="nx">ExclusionIn</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Subscriptors</span> <span class="k">extends</span> <span class="nx">Phalcon\Mvc\Model</span>
<span class="p">{</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">validation</span><span class="p">()</span>
  <span class="p">{</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="p">(</span><span class="k">new</span> <span class="nx">ExclusionIn</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;status&#39;</span><span class="p">,</span>
            <span class="s1">&#39;domain&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">)</span>
    <span class="p">)));</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validationHasFailed</span><span class="p">()</span> <span class="o">==</span> <span class="k">true</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>public <a class="reference internal" href="Phalcon_Mvc_Model_MessageInterface.html"><em>Phalcon\Mvc\Model\MessageInterface</em></a> [] <strong>getMessages</strong> ()</p>
<p>Returns all the validation messages</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$robot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Robots</span><span class="p">();</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">type</span> <span class="o">=</span> <span class="s1">&#39;mechanical&#39;</span><span class="p">;</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s1">&#39;Astro Boy&#39;</span><span class="p">;</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">year</span> <span class="o">=</span> <span class="mi">1952</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">()</span> <span class="o">==</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">&quot;Umh, We can&#39;t store robots right now &quot;</span><span class="p">;</span>
  <span class="k">foreach</span> <span class="p">(</span><span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">getMessages</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$message</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$message</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">&quot;Great, a new robot was saved successfully!&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>protected <em>boolean</em>  <strong>_checkForeignKeys</strong> ()</p>
<p>Reads &#8220;belongs to&#8221; relations and check the virtual foreign keys when inserting or updating records</p>
<p>protected <em>boolean</em>  <strong>_checkForeignKeysReverse</strong> ()</p>
<p>Reads both &#8220;hasMany&#8221; and &#8220;hasOne&#8221; relations and check the virtual foreign keys when deleting records</p>
<p>protected <em>boolean</em>  <strong>_preSave</strong> ()</p>
<p>Executes internal hooks before save a record</p>
<p>protected <em>boolean</em>  <strong>_postSave</strong> ()</p>
<p>Executes internal events after save a record</p>
<p>protected <em>boolean</em>  <strong>_doLowInsert</strong> ()</p>
<p>Sends a pre-build INSERT SQL statement to the relational database system</p>
<p>protected <em>boolean</em>  <strong>_doLowUpdate</strong> ()</p>
<p>Sends a pre-build UPDATE SQL statement to the relational database system</p>
<p>public <em>boolean</em>  <strong>save</strong> (<em>array</em> $data)</p>
<p>Inserts or updates a model instance. Returning true on success or false otherwise.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">//Creating a new robot</span>
<span class="nv">$robot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Robots</span><span class="p">();</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">type</span> <span class="o">=</span> <span class="s1">&#39;mechanical&#39;</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s1">&#39;Astro Boy&#39;</span><span class="p">;</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">year</span> <span class="o">=</span> <span class="mi">1952</span><span class="p">;</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>

<span class="c1">//Updating a robot name</span>
<span class="nv">$robot</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">findFirst</span><span class="p">(</span><span class="s2">&quot;id=100&quot;</span><span class="p">);</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s2">&quot;Biomass&quot;</span><span class="p">;</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</pre></div>
</div>
<p>public <em>boolean</em>  <strong>create</strong> (<em>array</em> $data)</p>
<p>Inserts a model instance. If the instance already exists in the persistance it will throw an exception Returning true on success or false otherwise.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">//Creating a new robot</span>
<span class="nv">$robot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Robots</span><span class="p">();</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">type</span> <span class="o">=</span> <span class="s1">&#39;mechanical&#39;</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s1">&#39;Astro Boy&#39;</span><span class="p">;</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">year</span> <span class="o">=</span> <span class="mi">1952</span><span class="p">;</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>

  <span class="c1">//Passing an array to create</span>
  <span class="nv">$robot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Robots</span><span class="p">();</span>
  <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;mechanical&#39;</span><span class="p">,</span>
      <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Astroy Boy&#39;</span><span class="p">,</span>
      <span class="s1">&#39;year&#39;</span> <span class="o">=&gt;</span> <span class="mi">1952</span>
  <span class="p">));</span>
</pre></div>
</div>
<p>public <em>boolean</em>  <strong>update</strong> (<em>array</em> $data)</p>
<p>Updates a model instance. If the instance doesn&#8217;t exist in the persistance it will throw an exception Returning true on success or false otherwise.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">//Updating a robot name</span>
<span class="nv">$robot</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">findFirst</span><span class="p">(</span><span class="s2">&quot;id=100&quot;</span><span class="p">);</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s2">&quot;Biomass&quot;</span><span class="p">;</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">();</span>
</pre></div>
</div>
<p>public <em>boolean</em>  <strong>delete</strong> ()</p>
<p>Deletes a model instance. Returning true on success or false otherwise.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$robot</span> <span class="o">=</span> <span class="nx">Robots</span><span class="o">::</span><span class="na">findFirst</span><span class="p">(</span><span class="s2">&quot;id=100&quot;</span><span class="p">);</span>
<span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">();</span>

<span class="k">foreach</span><span class="p">(</span><span class="nx">Robots</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="s2">&quot;type = &#39;mechanical&#39;&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="nv">$robot</span><span class="p">){</span>
   <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>public <em>int</em>  <strong>getOperationMade</strong> ()</p>
<p>Returns the type of the latest operation performed by the ORM Returns one of the OP_* class constants</p>
<p>public <em>mixed</em>  <strong>readAttribute</strong> (<em>string</em> $attribute)</p>
<p>Reads an attribute value by its name</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

 <span class="k">echo</span> <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">readAttribute</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>public  <strong>writeAttribute</strong> (<em>string</em> $attribute, <em>mixed</em> $value)</p>
<p>Writes an attribute value by its name</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

 <span class="nv">$robot</span><span class="o">-&gt;</span><span class="na">writeAttribute</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;Rosey&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>protected  <strong>skipAttributes</strong> ()</p>
<p>Sets a list of attributes that must be skipped from the generated INSERT/UPDATE statement</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">Robots</span> <span class="k">extends</span> <span class="nx">\Phalcon\Mvc\Model</span>
<span class="p">{</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">initialize</span><span class="p">()</span>
   <span class="p">{</span>
       <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">skipAttributes</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">));</span>
   <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>protected  <strong>skipAttributesOnCreate</strong> ()</p>
<p>Sets a list of attributes that must be skipped from the generated INSERT statement</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">Robots</span> <span class="k">extends</span> <span class="nx">\Phalcon\Mvc\Model</span>
<span class="p">{</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">initialize</span><span class="p">()</span>
   <span class="p">{</span>
       <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">skipAttributesOnUpdate</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;created_at&#39;</span><span class="p">));</span>
   <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>protected  <strong>skipAttributesOnUpdate</strong> ()</p>
<p>Sets a list of attributes that must be skipped from the generated UPDATE statement</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">Robots</span> <span class="k">extends</span> <span class="nx">\Phalcon\Mvc\Model</span>
<span class="p">{</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">initialize</span><span class="p">()</span>
   <span class="p">{</span>
       <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">skipAttributesOnUpdate</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;modified_in&#39;</span><span class="p">));</span>
   <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>protected  <strong>hasOne</strong> ()</p>
<p>Setup a 1-1 relation between two models</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">Robots</span> <span class="k">extends</span> <span class="nx">\Phalcon\Mvc\Model</span>
<span class="p">{</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">initialize</span><span class="p">()</span>
   <span class="p">{</span>
       <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hasOne</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;RobotsDescription&#39;</span><span class="p">,</span> <span class="s1">&#39;robots_id&#39;</span><span class="p">);</span>
   <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>protected  <strong>belongsTo</strong> ()</p>
<p>Setup a relation reverse 1-1  between two models</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">RobotsParts</span> <span class="k">extends</span> <span class="nx">\Phalcon\Mvc\Model</span>
<span class="p">{</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">initialize</span><span class="p">()</span>
   <span class="p">{</span>
       <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">belongsTo</span><span class="p">(</span><span class="s1">&#39;robots_id&#39;</span><span class="p">,</span> <span class="s1">&#39;Robots&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">);</span>
   <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>protected  <strong>hasMany</strong> ()</p>
<p>Setup a relation 1-n between two models</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">Robots</span> <span class="k">extends</span> <span class="nx">\Phalcon\Mvc\Model</span>
<span class="p">{</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">initialize</span><span class="p">()</span>
   <span class="p">{</span>
       <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hasMany</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;RobotsParts&#39;</span><span class="p">,</span> <span class="s1">&#39;robots_id&#39;</span><span class="p">);</span>
   <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>public <a class="reference internal" href="Phalcon_Mvc_Model_ResultsetInterface.html"><em>Phalcon\Mvc\Model\ResultsetInterface</em></a>  <strong>getRelated</strong> (<em>string</em> $modelName, <em>array</em> $arguments)</p>
<p>Returns related records based on defined relations</p>
<p>protected <em>mixed</em>  <strong>__getRelatedRecords</strong> ()</p>
<p>Returns related records defined relations depending on the method name</p>
<p>public <em>mixed</em>  <strong>__call</strong> (<em>string</em> $method, <em>array</em> $arguments)</p>
<p>Handles methods when a method does not exist</p>
<p>public <em>string</em>  <strong>serialize</strong> ()</p>
<p>Serializes the object ignoring connections or static properties</p>
<p>public  <strong>unserialize</strong> (<em>string</em> $data)</p>
<p>Unserializes the object from a serialized string</p>
<p>public  <strong>dump</strong> ()</p>
<p>...</p>
</div>
</div>


                    </div>
                  </div>
                </div>
            </div>
          </td>
        </tr>
      </table>
    <div class="related">
      <ul>
        <li class="right" >
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Phalcon_Mvc_Model_Criteria.html" title="Class Phalcon\Mvc\Model\Criteria"
             >next</a> |</li>
        <li class="right" >
          <a href="Phalcon_Mvc_Micro_Exception.html" title="Class Phalcon\Mvc\Micro\Exception"
             >previous</a> |</li>
          <li><a href="index.html" >API Indice</a> &raquo;</li> 
      </ul>
    </div>
        <div id="footer">
             &copy; Copyright 2012, Phalcon Team.
             Last updated on Sep 15, 2014.
            Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
        </div>

    </div>

  </body>
</html>