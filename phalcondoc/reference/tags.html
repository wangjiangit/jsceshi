<!DOCTYPE html>

<html lang="en">
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>视图助手(View Helpers) &mdash; Phalcon 0.7.0 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/configurationblock.css" type="text/css" />
    <!--
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/layout.css" type="text/css" />
    -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Rosario" type="text/css">
    <!-- link rel="stylesheet" href="http://phalconphp.com/css/s.css" type="text/css" -->
    <link rel="stylesheet" href="../_static/s.css" type="text/css">
    <link rel="stylesheet" href="../_static/docs.css" type="text/css">
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/docs.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Phalcon 0.7.0 documentation" href="../index.html" />
    <link rel="next" title="Volt模板引擎" href="volt.html" />
    <link rel="prev" title="使用视图(Using Views)" href="views.html" /> 
  </head>
  <body>
    <div id="wrapper">

      <div id="header">
        <h1><a href="http://phalconphp.com/index" ><img border="0" src="../_static/img/logo-small.png"></a></h1>
        <div align="center">
          <div id="nav-main" role="navigation">
            <div class="menubar">
              <div class="nav-main-features nav-first"><a href="http://phalconphp.com/index" >HOME</a></div>
              <div class="nav-main-features nav-first"><a href="http://phalconphp.com/download" >DOWNLOAD</a></div>
              <div class="nav-main-features"><a href="http://docs.phalconphp.com" >DOCUMENTATION</a></div>
              <div class="nav-main-features"><a href="http://phalconphp.com/support" >SUPPORT</a></div>
              <div class="nav-main-features nav-first"><a href="https://github.com/phalcon/cphalcon">GITHUB</a></div>
              <div class="nav-main-features"><a target="blog" href="http://blog.phalconphp.com/">BLOG</a></div>
            </div>
          </div>
        </div>
      </div>
    <div class="related">
      <ul>
        <li class="right" >
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="volt.html" title="Volt模板引擎"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="views.html" title="使用视图(Using Views)"
             accesskey="P">previous</a> |</li>
        <li><a href="http://www.phalconphp.com">Home</a> &raquo;</li>
        <li><a href="../index.html">Phalcon 0.7.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

      <table width="90%" align="center">
        <tr>
      <td class="primary-box" width="25%" valign="top">
            
            <div id="searchbox" style="">
              <h3>Search</h3>
                <form class="search" action="http://readthedocs.org/search/project/" method="get">
                  <input type="text" name="q" size="18">
                  <input type="submit" value="Go">
                  <input type="hidden" name="selected_facets" value="project:">
                </form>
            </div>
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">视图助手(View Helpers)</a><ul>
<li><a class="reference internal" href="#id1">使用别名</a></li>
<li><a class="reference internal" href="#document-type-of-content">Document Type of Content</a></li>
<li><a class="reference internal" href="#generating-links">Generating Links</a></li>
<li><a class="reference internal" href="#id2">创建表单</a></li>
<li><a class="reference internal" href="#id3">创建表单元素</a></li>
<li><a class="reference internal" href="#id4">生成选择菜单</a></li>
<li><a class="reference internal" href="#assigning-html-attributes">Assigning HTML attributes</a></li>
<li><a class="reference internal" href="#setting-helper-values">Setting Helper Values</a><ul>
<li><a class="reference internal" href="#from-controllers">From Controllers</a></li>
<li><a class="reference internal" href="#from-the-request">From the Request</a></li>
<li><a class="reference internal" href="#specifying-values-directly">Specifying values directly</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changing-dynamically-the-document-title">Changing dynamically the Document Title</a></li>
<li><a class="reference internal" href="#static-content-helpers">Static Content Helpers</a><ul>
<li><a class="reference internal" href="#images">Images</a></li>
<li><a class="reference internal" href="#stylesheets">Stylesheets</a></li>
<li><a class="reference internal" href="#javascript">Javascript</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">创建自定义助手</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="views.html"
                                  title="previous chapter">使用视图(Using Views)</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="volt.html"
                                  title="next chapter">Volt模板引擎</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/reference/tags.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
        </td>
          <td class="second-box" valign="top">
            <div class="document">
                <div class="documentwrapper">
                  <div class="bodywrapper">
                <div class="body" >
                      
  <div class="section" id="view-helpers">
<h1>视图助手(View Helpers)<a class="headerlink" href="#view-helpers" title="Permalink to this headline">¶</a></h1>
<p>编写和维护HTML标记是一项繁琐的任务，因为有许多命名约定及属性需要考虑。Phalcon提供了 <a class="reference internal" href="../api/Phalcon_Tag.html"><em>Phalcon\Tag</em></a> 来处理这种复杂性，然后 Phalcon 会把视图助手编写的代码又生成HTML标记，用于正常显示HTML。</p>
<p>此组件同时可用于 HTML＋ PHP 的模板文件中，也可以用于  <a class="reference internal" href="volt.html"><em>Volt</em></a> 模板引擎：</p>
<blockquote class="highlights">
<div>本指南不是一个完整的文档，只讲述了视图助手及其参数使用的其中一部分。完整的API参考，请访问：<a class="reference internal" href="../api/Phalcon_Tag.html"><em>Phalcon\Tag</em></a> 。</div></blockquote>
<div class="section" id="id1">
<h2>使用别名<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>你可以对类进行别名定义以获取更短的名称，在这种情况下，Tag可以代替  <a class="reference internal" href="../api/Phalcon_Tag.html"><em>Phalcon\Tag</em></a> 。</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span> <span class="k">use</span> <span class="nx">\Phalcon\Tag</span> <span class="k">as</span> <span class="nx">Tag</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="document-type-of-content">
<h2>Document Type of Content<a class="headerlink" href="#document-type-of-content" title="Permalink to this headline">¶</a></h2>
<p>Phalcon中，使用 Phalcon\Tag::setDoctype() 助手可以设置HTML文档类型，文档类型的定义可能会影响其他 HTML 标签的输出。
例如，如果你设置为XHTML的文档类型，所有标签必须闭合，也就是说开始标签要有相应的结束标签。</p>
<p>Phalcon\Tag 命名空间定义了以下一些文档类型常量：</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Constant</th>
<th class="head">Document type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>HTML32</td>
<td>HTML 3.2</td>
</tr>
<tr class="row-odd"><td>HTML401_STRICT</td>
<td>HTML 4.01 Strict</td>
</tr>
<tr class="row-even"><td>HTML401_TRANSITIONAL</td>
<td>HTML 4.01 Transitional</td>
</tr>
<tr class="row-odd"><td>HTML401_FRAMESET</td>
<td>HTML 4.01 Frameset</td>
</tr>
<tr class="row-even"><td>HTML5</td>
<td>HTML 5</td>
</tr>
<tr class="row-odd"><td>XHTML10_STRICT</td>
<td>XHTML 1.0 Strict</td>
</tr>
<tr class="row-even"><td>XHTML10_TRANSITIONAL</td>
<td>XHTML 1.0 Transitional</td>
</tr>
<tr class="row-odd"><td>XHTML10_FRAMESET</td>
<td>XHTML 1.0 Frameset</td>
</tr>
<tr class="row-even"><td>XHTML11</td>
<td>XHTML 1.1</td>
</tr>
<tr class="row-odd"><td>XHTML20</td>
<td>XHTML 2.0</td>
</tr>
<tr class="row-even"><td>XHTML5</td>
<td>XHTML 5</td>
</tr>
</tbody>
</table>
<p>设置文档类型.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span> <span class="nx">\Phalcon\Tag</span><span class="o">::</span><span class="na">setDoctype</span><span class="p">(</span><span class="nx">\Phalcon\Tag</span><span class="o">::</span><span class="na">HTML401_STRICT</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>获取文档类型.</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">\Phalcon\Tag</span><span class="o">::</span><span class="na">getDoctype</span><span class="p">()</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="c">&lt;!-- your HTML code --&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>下面是编译后的HTML代码：</p>
<div class="highlight-html"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;</span>
<span class="cp">        &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="c">&lt;!-- your HTML code --&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="generating-links">
<h2>Generating Links<a class="headerlink" href="#generating-links" title="Permalink to this headline">¶</a></h2>
<p>在任何Web应用程序或网站中，连接是非常重要的，它能使我们从一个页面跳转到另一个页面。
我们可以通过以下方式创建内部连接：</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- for the default route --&gt;</span>
<span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">Tag</span><span class="o">::</span><span class="na">linkTo</span><span class="p">(</span><span class="s2">&quot;products/search&quot;</span><span class="p">)</span> <span class="cp">?&gt;</span>

<span class="c">&lt;!-- for a named route --&gt;</span>
<span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">Tag</span><span class="o">::</span><span class="na">linkTo</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;for&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;show-product&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">123</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;carrots&#39;</span><span class="p">))</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
<p>其实，文档中所有的URLs都是通过组件 <a class="reference internal" href="url.html"><em>Phalcon\Mvc\Url</em></a> (or service &#8220;url&#8221; failing) 生成的。</p>
</div>
<div class="section" id="id2">
<h2>创建表单<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>在Web应用程序中，从表单中获取用户输入是一个应用程序或网站的重要组成部分。下面的示例演示如何使用视图助手创建一个简单的搜索表单：</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="cp">&lt;?php</span> <span class="k">use</span> <span class="nx">\Phalcon\Tag</span> <span class="k">as</span> <span class="nx">Tag</span><span class="p">;</span> <span class="cp">?&gt;</span>

<span class="c">&lt;!-- Sending the form by method POST --&gt;</span>
<span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">Tag</span><span class="o">::</span><span class="na">form</span><span class="p">(</span><span class="s2">&quot;products/search&quot;</span><span class="p">)</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;q&quot;</span><span class="nt">&gt;</span>Search:<span class="nt">&lt;/label&gt;</span>
    <span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">Tag</span><span class="o">::</span><span class="na">textField</span><span class="p">(</span><span class="s2">&quot;q&quot;</span><span class="p">)</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">Tag</span><span class="o">::</span><span class="na">submitButton</span><span class="p">(</span><span class="s2">&quot;Search&quot;</span><span class="p">)</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;/form&gt;</span>

<span class="c">&lt;!-- Specyfing another method or attributes for the FORM tag --&gt;</span>
<span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">Tag</span><span class="o">::</span><span class="na">form</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">&quot;products/search&quot;</span><span class="p">,</span> <span class="s2">&quot;method&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;get&quot;</span><span class="p">));</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;q&quot;</span><span class="nt">&gt;</span>Search:<span class="nt">&lt;/label&gt;</span>
    <span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">Tag</span><span class="o">::</span><span class="na">textField</span><span class="p">(</span><span class="s2">&quot;q&quot;</span><span class="p">);</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">Tag</span><span class="o">::</span><span class="na">submitButton</span><span class="p">(</span><span class="s2">&quot;Search&quot;</span><span class="p">);</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div>
</div>
<p>上面的助手代码将生成下面的HTML代码：</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">&quot;/store/products/search/&quot;</span> <span class="na">method=</span><span class="s">&quot;get&quot;</span><span class="nt">&gt;</span>
     <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;q&quot;</span><span class="nt">&gt;</span>Search:<span class="nt">&lt;/label&gt;</span>
     <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">id=</span><span class="s">&quot;q&quot;</span> <span class="na">value=</span><span class="s">&quot;&quot;</span> <span class="na">name=</span><span class="s">&quot;q&quot;</span> <span class="nt">/&gt;</span>
     <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;Search&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/endform&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h2>创建表单元素<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Phalcon 提供了一系列的助手用于生成表单元素，比如：文本框，按钮等。助手的第一个参数是要生成的表单的名称，当提交表单时，这个名字被当做数据传递。在控制器中，你可以使用 request对象($this-&gt;request)的 getPost()和 getQuery()方法，用这个名字得到用户提交的数据。</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">Phalcon\Tag</span><span class="o">::</span><span class="na">textField</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s2">&quot;parent_id&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value&quot;</span><span class="o">=&gt;</span> <span class="s2">&quot;5&quot;</span>
<span class="p">))</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">Phalcon\Tag</span><span class="o">::</span><span class="na">textArea</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">,</span>
    <span class="s2">&quot;This is the content of the text-area&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cols&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span>
    <span class="s2">&quot;rows&quot;</span> <span class="o">=&gt;</span> <span class="mi">20</span>
<span class="p">))</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">Phalcon\Tag</span><span class="o">::</span><span class="na">passwordField</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">)</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">Phalcon\Tag</span><span class="o">::</span><span class="na">hiddenField</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s2">&quot;parent_id&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value&quot;</span><span class="o">=&gt;</span> <span class="s2">&quot;5&quot;</span>
<span class="p">))</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h2>生成选择菜单<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>生成选择框是容易的，特别是相关的数据已经存储到PHP数组中时。生成选择框可以使用 Phalcon\Tag::select() 和 Phalcon\Tag::selectStatic(). Phalcon\Tag::select() 是专门设计与 <a class="reference internal" href="models.html"><em>Phalcon\Mvc\Model</em></a> 一起使用，而  Phalcon\Tag::selectStatic() 则是与PHP数组一起使用。</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">// Using data from a resultset</span>
<span class="k">echo</span> <span class="nx">Phalcon\Tag</span><span class="o">::</span><span class="na">select</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s2">&quot;productId&quot;</span><span class="p">,</span>
        <span class="nx">Products</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="s2">&quot;type = &#39;vegetables&#39;&quot;</span><span class="p">),</span>
        <span class="s2">&quot;using&quot;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="c1">// Using data from an array</span>
<span class="k">echo</span> <span class="nx">Phalcon\Tag</span><span class="o">::</span><span class="na">selectStatic</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s2">&quot;status&quot;</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
            <span class="s2">&quot;A&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Active&quot;</span><span class="p">,</span>
            <span class="s2">&quot;I&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Inactive&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>下面是生成的HTML代码:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&quot;productId&quot;</span> <span class="na">name=</span><span class="s">&quot;productId&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;101&quot;</span><span class="nt">&gt;</span>Tomato<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;102&quot;</span><span class="nt">&gt;</span>Lettuce<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;103&quot;</span><span class="nt">&gt;</span>Beans<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>

<span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&quot;status&quot;</span> <span class="na">name=</span><span class="s">&quot;status&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;A&quot;</span><span class="nt">&gt;</span>Active<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;I&quot;</span><span class="nt">&gt;</span>Inactive<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</pre></div>
</div>
<p>有时，为了显示的需要，你想要添加一个空值的option项：</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">// Creating a Select Tag with an empty option</span>
<span class="k">echo</span> <span class="nx">Phalcon\Tag</span><span class="o">::</span><span class="na">select</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s2">&quot;productId&quot;</span><span class="p">,</span>
        <span class="nx">Products</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="s2">&quot;type = &#39;vegetables&#39;&quot;</span><span class="p">),</span>
        <span class="s2">&quot;using&quot;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="s1">&#39;useEmpty&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
<span class="p">);</span>
</pre></div>
</div>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&quot;productId&quot;</span> <span class="na">name=</span><span class="s">&quot;productId&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>Choose..<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;101&quot;</span><span class="nt">&gt;</span>Tomato<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;102&quot;</span><span class="nt">&gt;</span>Lettuce<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;103&quot;</span><span class="nt">&gt;</span>Beans<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">// Creating a Select Tag with an empty option with default text</span>
<span class="k">echo</span> <span class="nx">Phalcon\Tag</span><span class="o">::</span><span class="na">select</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s2">&quot;productId&quot;</span><span class="p">,</span>
        <span class="nx">Products</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="s2">&quot;type = &#39;vegetables&#39;&quot;</span><span class="p">),</span>
        <span class="s2">&quot;using&quot;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="s1">&#39;useEmpty&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="s1">&#39;emptyText&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Please, choose one...&#39;</span><span class="p">,</span>
    <span class="s1">&#39;emptyValue&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;@&#39;</span>
<span class="p">);</span>
</pre></div>
</div>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&quot;productId&quot;</span> <span class="na">name=</span><span class="s">&quot;productId&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;@&quot;</span><span class="nt">&gt;</span>Please, choose one..<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;101&quot;</span><span class="nt">&gt;</span>Tomato<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;102&quot;</span><span class="nt">&gt;</span>Lettuce<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;103&quot;</span><span class="nt">&gt;</span>Beans<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="assigning-html-attributes">
<h2>Assigning HTML attributes<a class="headerlink" href="#assigning-html-attributes" title="Permalink to this headline">¶</a></h2>
<p>所有的助手都接收一个数组，数组的第一个参数作为名称，其他的用于生成额外的HTML属性。</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="cp">&lt;?php</span> <span class="nx">\Phalcon\Tag</span><span class="o">::</span><span class="na">textField</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s2">&quot;price&quot;</span><span class="p">,</span>
        <span class="s2">&quot;size&quot;</span>        <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span>
        <span class="s2">&quot;maxlength&quot;</span>   <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
        <span class="s2">&quot;placeholder&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Enter a price&quot;</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
<p>会产生下面的HTML代码：</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;price&quot;</span> <span class="na">id=</span><span class="s">&quot;price&quot;</span> <span class="na">size=</span><span class="s">&quot;20&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;30&quot;</span>
    <span class="na">placeholder=</span><span class="s">&quot;Enter a price&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-helper-values">
<h2>Setting Helper Values<a class="headerlink" href="#setting-helper-values" title="Permalink to this headline">¶</a></h2>
<div class="section" id="from-controllers">
<h3>From Controllers<a class="headerlink" href="#from-controllers" title="Permalink to this headline">¶</a></h3>
<p>在视图中对表单元素设置特定值是一个良好的用户体验，你可以在控制器中通过 Phalcon\Tag::setDefaultValue() 设置默认值。</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">ProductsController</span> <span class="k">extends</span> <span class="nx">\Phalcon\Mvc\Controller</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">Phalcon\Tag</span><span class="o">::</span><span class="na">setDefaultValue</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">,</span> <span class="s2">&quot;Blue&quot;</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>在视图文件中，使用 selectStatic 助手提供一些预设值，名称为 &#8220;color&#8221;：</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">echo</span> <span class="nx">\Phalcon\Tag</span><span class="o">::</span><span class="na">selectStatic</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s2">&quot;color&quot;</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
            <span class="s2">&quot;Yellow&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Yellow&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Blue&quot;</span>   <span class="o">=&gt;</span> <span class="s2">&quot;Blue&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Red&quot;</span>    <span class="o">=&gt;</span> <span class="s2">&quot;Red&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>下面是生成的HTML代码，同时值为 &#8220;Blue&#8221; 的option选项被默认选中：</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&quot;color&quot;</span> <span class="na">name=</span><span class="s">&quot;color&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;Yellow&quot;</span><span class="nt">&gt;</span>Yellow<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;Blue&quot;</span> <span class="na">selected=</span><span class="s">&quot;selected&quot;</span><span class="nt">&gt;</span>Blue<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;Red&quot;</span><span class="nt">&gt;</span>Red<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="from-the-request">
<h3>From the Request<a class="headerlink" href="#from-the-request" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../api/Phalcon_Tag.html"><em>Phalcon\Tag</em></a> 助手的一个重要的功能是，它能在请求时保持提交的数据。这样，你就可以轻松的显示验证信息，而不会丢失输入的数据。</p>
</div>
<div class="section" id="specifying-values-directly">
<h3>Specifying values directly<a class="headerlink" href="#specifying-values-directly" title="Permalink to this headline">¶</a></h3>
<p>Every form helper supports the parameter &#8220;value&#8221;. With it you can specify a value for the helper directly.
When this parameter is present, any preset value using setDefaultValue() or via request will be ignored.</p>
</div>
</div>
<div class="section" id="changing-dynamically-the-document-title">
<h2>Changing dynamically the Document Title<a class="headerlink" href="#changing-dynamically-the-document-title" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../api/Phalcon_Tag.html"><em>Phalcon\Tag</em></a> 助手还提供了可以在控制器中动态修改标题的功能。下面的例子演示了这一点：</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">PostsController</span> <span class="k">extends</span> <span class="nx">\Phalcon\Mvc\Controller</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">initialize</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">Phalcon\Tag</span><span class="o">::</span><span class="na">setTitle</span><span class="p">(</span><span class="s2">&quot; Your Website&quot;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">Phalcon\Tag</span><span class="o">::</span><span class="na">prependTitle</span><span class="p">(</span><span class="s2">&quot;Index of Posts - &quot;</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-html+php"><div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span><span class="cp">&lt;?php</span> <span class="nx">\Phalcon\Tag</span><span class="o">::</span><span class="na">getTitle</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>

    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>下面是生成的HTML代码：</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Index of Posts - Your Website<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
      <span class="nt">&lt;body&gt;</span>

      <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="static-content-helpers">
<h2>Static Content Helpers<a class="headerlink" href="#static-content-helpers" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../api/Phalcon_Tag.html"><em>Phalcon\Tag</em></a> 助手还提供了生成 script,link, img 这些标签的功能。它能帮助你在你的应用程序中快速的生成静态资源文件。</p>
<div class="section" id="images">
<h3>Images<a class="headerlink" href="#images" title="Permalink to this headline">¶</a></h3>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">// Generate &lt;img src=&quot;/your-app/img/hello.gif&quot;&gt;</span>
<span class="k">echo</span> <span class="nx">\Phalcon\Tag</span><span class="o">::</span><span class="na">image</span><span class="p">(</span><span class="s2">&quot;img/hello.gif&quot;</span><span class="p">);</span>

<span class="c1">// Generate &lt;img alt=&quot;alternative text&quot; src=&quot;/your-app/img/hello.gif&quot;&gt;</span>
<span class="k">echo</span> <span class="nx">\PhalconTag</span><span class="o">::</span><span class="na">image</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
       <span class="s2">&quot;img/hello.gif&quot;</span><span class="p">,</span>
       <span class="s2">&quot;alt&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;alternative text&quot;</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="stylesheets">
<h3>Stylesheets<a class="headerlink" href="#stylesheets" title="Permalink to this headline">¶</a></h3>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">// Generate &lt;link rel=&quot;stylesheet&quot; href=&quot;http://fonts.googleapis.com/css?family=Rosario&quot; type=&quot;text/css&quot;&gt;</span>
<span class="k">echo</span> <span class="nx">\Phalcon\Tag</span><span class="o">::</span><span class="na">stylesheetLink</span><span class="p">(</span><span class="s2">&quot;http://fonts.googleapis.com/css?family=Rosario&quot;</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>

<span class="c1">// Generate &lt;link rel=&quot;stylesheet&quot; href=&quot;/your-app/css/styles.css&quot; type=&quot;text/css&quot;&gt;</span>
<span class="k">echo</span> <span class="nx">\Phalcon\Tag</span><span class="o">::</span><span class="na">stylesheetLink</span><span class="p">(</span><span class="s2">&quot;css/styles.css&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="javascript">
<h3>Javascript<a class="headerlink" href="#javascript" title="Permalink to this headline">¶</a></h3>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">// Generate &lt;script src=&quot;http://localhost/javascript/jquery.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</span>
<span class="k">echo</span> <span class="nx">\Phalcon\Tag</span><span class="o">::</span><span class="na">javascriptInclude</span><span class="p">(</span><span class="s2">&quot;http://localhost/javascript/jquery.min.js&quot;</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>

<span class="c1">// Generate &lt;script src=&quot;/your-app/javascript/jquery.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</span>
<span class="k">echo</span> <span class="nx">\Phalcon\Tag</span><span class="o">::</span><span class="na">javascriptInclude</span><span class="p">(</span><span class="s2">&quot;javascript/jquery.min.js&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id5">
<h2>创建自定义助手<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>你可以通过继承 <a class="reference internal" href="../api/Phalcon_Tag.html"><em>Phalcon\Tag</em></a> 创建你自己的自定义助手，下面是一个简单的例子：</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">MyTags</span> <span class="k">extends</span> <span class="nx">\Phalcon\Tag</span>
<span class="p">{</span>

    <span class="sd">/**</span>
<span class="sd">    * Generates a widget to show a HTML5 audio tag</span>
<span class="sd">    *</span>
<span class="sd">    * @param array</span>
<span class="sd">    * @return string</span>
<span class="sd">    */</span>
    <span class="k">static</span> <span class="k">function</span> <span class="nf">audioField</span><span class="p">(</span><span class="nv">$parameters</span><span class="p">)</span>
    <span class="p">{</span>

        <span class="c1">// Converting parameters to array if it is not</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">is_array</span><span class="p">(</span><span class="nv">$parameters</span><span class="p">))</span> <span class="p">{</span>
            <span class="nv">$parameters</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="nv">$parameters</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// Determining attributes &quot;id&quot; and &quot;name&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$parameters</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="p">{</span>
            <span class="nv">$parameters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$parameters</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">];</span>
        <span class="p">}</span>

        <span class="nv">$id</span> <span class="o">=</span> <span class="nv">$parameters</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$parameters</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]))</span> <span class="p">{</span>
            <span class="nv">$parameters</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$id</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$parameters</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="p">{</span>
                <span class="nv">$parameters</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$id</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// Determining widget value,</span>
        <span class="c1">// \Phalcon\Tag::setDefault() allows to set the widget value</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$parameters</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]))</span> <span class="p">{</span>
            <span class="nv">$value</span> <span class="o">=</span> <span class="nv">$parameters</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">];</span>
            <span class="nb">unset</span><span class="p">(</span><span class="nv">$parameters</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nv">$value</span> <span class="o">=</span> <span class="nx">self</span><span class="o">::</span><span class="na">getValue</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// Generate the tag code</span>
        <span class="nv">$code</span> <span class="o">=</span> <span class="s1">&#39;&lt;audio id=&quot;&#39;</span><span class="o">.</span><span class="nv">$id</span><span class="o">.</span><span class="s1">&#39;&quot; value=&quot;&#39;</span><span class="o">.</span><span class="nv">$value</span><span class="o">.</span><span class="s1">&#39;&quot; &#39;</span><span class="p">;</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$parameters</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$attributeValue</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">is_integer</span><span class="p">(</span><span class="nv">$key</span><span class="p">))</span> <span class="p">{</span>
                <span class="nv">$code</span><span class="o">.=</span> <span class="nv">$key</span><span class="o">.</span><span class="s1">&#39;=&quot;&#39;</span><span class="o">.</span><span class="nv">$attributeValue</span><span class="o">.</span><span class="s1">&#39;&quot; &#39;</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="nv">$code</span><span class="o">.=</span><span class="s2">&quot; /&gt;&quot;</span><span class="p">;</span>

        <span class="k">return</span> <span class="nv">$code</span><span class="p">;</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>在下一章中，我们将讨论 <a class="reference internal" href="volt.html"><em>Volt</em></a> ，一个更快的PHP模板引擎，在那里你可以使用由  PhalconTag 提供的一种更友好的语法来使用助手工具。</p>
</div>
</div>


                    </div>
                  </div>
                </div>
            </div>
          </td>
        </tr>
      </table>
    <div class="related">
      <ul>
        <li class="right" >
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="volt.html" title="Volt模板引擎"
             >next</a> |</li>
        <li class="right" >
          <a href="views.html" title="使用视图(Using Views)"
             >previous</a> |</li> 
      </ul>
    </div>
        <div id="footer">
             &copy; Copyright 2012, Phalcon Team.
             Last updated on Sep 15, 2014.
            Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
        </div>

    </div>

  </body>
</html>