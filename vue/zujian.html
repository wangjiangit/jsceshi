<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>vue组件</title>
</head>
<body>
<div id="div1">
    <simple-counter> </simple-counter>
    <simple-counter> </simple-counter>
    <simple-counter> </simple-counter>
    <child my-message="hello" v-bind:prop1="data1"  v-on:trigger1="shijian2" v-on:dblclick.native="shijian3"></child>

    <component1 v-bind:prop-a="30" prop-c="CCC"></component1>
</div>

</body>
<script type="text/javascript" src="./vue.js"></script>
<script type="text/javascript">

    var bus = new Vue();
    bus.$on('is-selected',function(id){
        console.log('hello id:'+id);
    });

    //组件simple-counter
    Vue.component('simple-counter',{
        "template":"<button v-on:click='counter+=1'>点击次数：{{counter}}</button>",
        "data":function(){
            var data={
                "counter":0
            };
            return data;
        }
    });

    //组件child
    Vue.component('child',{
        "props":['myMessage','prop1'],
        "data":function(){
            return {"hebing":this.myMessage+ this.prop1}
        },
        "computed":{
          "prop1_computed":function(){
              return this.prop1.toUpperCase();
          }
        },
        "methods":{
            "shijian1":function(){
                console.log('hello');
                this.$emit('trigger1');//触发trigger1自定义事件事件
                bus.$emit('is-selected',1);
            }
        },
        "template":"<span style='color:red' v-on:click='shijian1'>{{myMessage}} {{prop1}} == {{hebing}} 大写：{{prop1_computed}}</span>"
    });

    //组件component1
    Vue.component('component1',{
        "props": {
            // 基础类型检测 （`null` 意思是任何类型都可以）
            propA: Number,
            // 多种类型
            propB: [String, Number],
            // 必传且是字符串
            propC: {
                type: String,
                required: true
            },
            // 数字，有默认值
            propD: {
                type: Number,
                default: 100
            },
            // 数组／对象的默认值应当由一个工厂函数返回
            propE: {
                type: Object,
                default: function () {
                    return { message: 'hello' }
                }
            },
            // 自定义验证函数
            propF: {
                validator: function (value) {
                    return value > 10
                }
            }
        },
        "template":"<span>{{propA}} {{propC}}</span>"
    });

var vm =new Vue({
    "el":'#div1',
    "data":{
        "data1":"welcome to china",
    },
    "methods":{
        "shijian2":function(){
            console.log('hello world');
        },
        "shijian3":function(){
            console.log('在组件的根元素上监听一个原生事件');
        }
    }
});

    console.log(vm.message);
</script>
</html>